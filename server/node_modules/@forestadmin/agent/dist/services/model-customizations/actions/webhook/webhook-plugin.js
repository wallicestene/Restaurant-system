"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const execute_webhook_1 = __importDefault(require("./execute-webhook"));
const get_actions_1 = __importDefault(require("../get-actions"));
class WebhookActionsPlugin {
}
exports.default = WebhookActionsPlugin;
WebhookActionsPlugin.VERSION = '1.0.0';
WebhookActionsPlugin.FEATURE = 'webhook-custom-actions';
WebhookActionsPlugin.addWebhookActions = (datasourceCustomizer, _, modelCustomizations) => {
    const actions = (0, get_actions_1.default)('webhook', modelCustomizations);
    actions.forEach(action => {
        const collection = datasourceCustomizer.getCollection(action.modelName);
        collection.addAction(action.name, {
            scope: action.configuration.scope,
            execute: context => (0, execute_webhook_1.default)(action, context),
        });
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViaG9vay1wbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvc2VydmljZXMvbW9kZWwtY3VzdG9taXphdGlvbnMvYWN0aW9ucy93ZWJob29rL3dlYmhvb2stcGx1Z2luLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBR0Esd0VBQStDO0FBQy9DLGlFQUF3QztBQUV4QyxNQUFxQixvQkFBb0I7O0FBQXpDLHVDQW1CQztBQWxCZSw0QkFBTyxHQUFHLE9BQU8sQ0FBQztBQUNsQiw0QkFBTyxHQUFHLHdCQUF3QixDQUFDO0FBRW5DLHNDQUFpQixHQUFpQyxDQUM5RCxvQkFBb0IsRUFDcEIsQ0FBQyxFQUNELG1CQUFtQixFQUNuQixFQUFFO0lBQ0YsTUFBTSxPQUFPLEdBQUcsSUFBQSxxQkFBVSxFQUE2QixTQUFTLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUN2RixPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ3ZCLE1BQU0sVUFBVSxHQUFHLG9CQUFvQixDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFeEUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFO1lBQ2hDLEtBQUssRUFBRSxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUs7WUFDakMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBQSx5QkFBYyxFQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7U0FDcEQsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMifQ==