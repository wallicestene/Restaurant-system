"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const datasource_toolkit_1 = require("@forestadmin/datasource-toolkit");
const collection_1 = __importDefault(require("./create-relations/collection"));
const collection_2 = __importDefault(require("./update-relations/collection"));
const collection_3 = __importDefault(require("./write-replace/collection"));
/**
 * Decorator which allows to change the behavior of the write actions for given fields.
 */
class WriteDataSourceDecorator extends datasource_toolkit_1.DataSourceDecorator {
    constructor(childDataSource) {
        const create = new datasource_toolkit_1.DataSourceDecorator(childDataSource, collection_1.default);
        const update = new datasource_toolkit_1.DataSourceDecorator(create, collection_2.default);
        super(update, collection_3.default);
    }
}
exports.default = WriteDataSourceDecorator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kZWNvcmF0b3JzL3dyaXRlL2RhdGFzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx3RUFBa0Y7QUFFbEYsK0VBQStFO0FBQy9FLCtFQUErRTtBQUMvRSw0RUFBMEU7QUFFMUU7O0dBRUc7QUFDSCxNQUFxQix3QkFBeUIsU0FBUSx3Q0FBcUQ7SUFDekcsWUFBWSxlQUEyQjtRQUNyQyxNQUFNLE1BQU0sR0FBRyxJQUFJLHdDQUFtQixDQUFDLGVBQWUsRUFBRSxvQkFBa0MsQ0FBQyxDQUFDO1FBQzVGLE1BQU0sTUFBTSxHQUFHLElBQUksd0NBQW1CLENBQUMsTUFBTSxFQUFFLG9CQUFrQyxDQUFDLENBQUM7UUFDbkYsS0FBSyxDQUFDLE1BQU0sRUFBRSxvQkFBZ0MsQ0FBQyxDQUFDO0lBQ2xELENBQUM7Q0FDRjtBQU5ELDJDQU1DIn0=