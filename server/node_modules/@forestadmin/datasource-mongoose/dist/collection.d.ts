import { AggregateResult, Aggregation, BaseCollection, Caller, DataSource, Filter, PaginatedFilter, Projection, RecordData } from '@forestadmin/datasource-toolkit';
import { Model } from 'mongoose';
import { Stack } from './types';
export default class MongooseCollection extends BaseCollection {
    model: Model<unknown>;
    stack: Stack;
    constructor(dataSource: DataSource, model: Model<unknown>, stack: Stack);
    list(caller: Caller, filter: PaginatedFilter, projection: Projection): Promise<RecordData[]>;
    aggregate(caller: Caller, filter: Filter, aggregation: Aggregation, limit?: number): Promise<AggregateResult[]>;
    create(caller: Caller, data: RecordData[]): Promise<RecordData[]>;
    update(caller: Caller, filter: Filter, patch: RecordData): Promise<void>;
    delete(caller: Caller, filter: Filter): Promise<void>;
    private _create;
    private computeSubFieldName;
    private createForArraySubfield;
    private createForObjectSubfield;
    private _update;
    private _delete;
    private buildBasePipeline;
    private handleValidationError;
}
//# sourceMappingURL=collection.d.ts.map